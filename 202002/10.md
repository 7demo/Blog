# 二进制与十进制转化

## 十进制转二进制

> 整数部分是除2取余，逆序排列

> 小数部分是乘2取整，顺序排列

```javaScript
function ttwo(num) {
    let str = num + ''
    let dotIndex = str.indexOf('.')
    let intNum = dotIndex > 0 ? str.substr(0, dotIndex)/1 : str/1
    let floatNum = dotIndex > 0 ? str.substr(dotIndex, str.length - dotIndex)/1 : 0
    let intRet = []
    let floatRet = []
    while (intNum > 1) {
        intRet.push(intNum % 2)
        intNum =intNum - Math.floor(intNum / 2) - intNum % 2
    }
    intRet.push(intNum)
    while (floatNum) {
        let _int = floatNum * 2
        if (_int >= 1) {
            floatRet.push(1)
            floatNum = _int - 1
        } else {
            floatNum = _int
            floatRet.push(0)
        }
    }
    if (floatRet.length) {
        return (intRet.reverse().join('') + '.' + floatRet.join(''))/1
    } else {
        return intRet.reverse().join('')/1
    }
}
```

## 二进制转十进制

十进制的整数与小数的方法一致：

> 整数部分：二进制的从右往左为,第一位num\*2的0次方，第二位num\*2的1次方... 直至最左侧的num\*2的0次方

> 小数部分：小数部分的二进制从左往右为，第一位num\*2的-1次方，第二位num\*2的-2次方

```abcd.efg(2)=d*20+c*21+b*22+a*23+e*2-1+f*2-2+g*2-3（10）```

```javaScript
function tten(num) {
    let str = num + ''
    let n = 0
    let dotIndex = str.indexOf('.')
    let intNum = dotIndex > 0 ? str.substr(0, dotIndex) : str
    let floatNum = dotIndex > 0 ? str.substr(dotIndex + 1, str.length - dotIndex) : ''

    for (let i = 0; i < intNum.length; i++) {
        n +=  intNum[i]*Math.pow(2, intNum.length - i - 1)
    }

    for (let i = 0; i < floatNum.length; i++) {
        n +=  floatNum[i]*Math.pow(2, -1 * (i + 1))
    }
    return n
}
```
